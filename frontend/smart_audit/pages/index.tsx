import { ConnectButton } from "@rainbow-me/rainbowkit";
import { Button } from "../.next/components/button";
import type { NextPage } from "next";
import Head from "next/head";
import { useState } from "react";
import { useAccount } from "wagmi";
import styles from "../styles/Home.module.css";
// import PaymentRequest from "../components/RequestNetwork";
import { RequestLogicTypes } from '@requestnetwork/types';
interface PaymentRequestProps {
	token: string | RequestLogicTypes.ICurrency,
	payerAddress: string,
	requestAmount: RequestLogicTypes.Amount
}
const Home: NextPage = () => {
  const [requestAmount, setRequestAmount] = useState('');
	const [paymentLink, setPaymentLink] = useState('');
  const { address } = useAccount();
  const handleCreateRequest = async () => {
		setRequestAmount('100');
    const request: PaymentRequestProps = {     
      token: 'USDT', 
      payerAddress: address || 'undefined',
      requestAmount: requestAmount
  }
		// const requestId = PaymentRequest(request);
		// setPaymentLink(`https://pay.request.network/${requestId}`);
	};
  return (
    <div className={styles.container}>
      <Head>
        <title>RainbowKit App</title>
        <meta
          content="Generated by @rainbow-me/create-rainbowkit"
          name="description"
        />
        <link href="/favicon.ico" rel="icon" />
      </Head>

      <main className={styles.main}>
        <ConnectButton />

        <h1 className={styles.title}>Welcome to AI audit!</h1>

        <div className={styles.grid}>
          {/* <Button type='button' onClick={handleCreateRequest}>
							Create a payment request &rarr;
					</Button> */}
          <a className={styles.card} href="https://rainbowkit.com">
            <h2>Create payment &rarr;</h2>
          </a>
        </div>
      </main>

      <footer className={styles.footer}></footer>
    </div>
  );
};

export default Home;
